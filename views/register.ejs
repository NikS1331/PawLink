<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
    content="widt=device-width,
    initial-scale=1.0">
    <title> Pet Sitting Login</title>
    <style>
        body{
            font-family:Arial,sans-serif;
            background:linear-gradient(to bottom 
            right, #81e6d9,#34d399);
            display:flex;
            justify-content:center;
            align-items:center;
            height:100vh;
            margin:0;
        }
        .register-card{
            background:white;
            padding:2rem;
            border-radius:1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            width:300px;
            text-align:center;
        }
        input{
            width:90%;
            padding:0.5rem;
            margin:0.5 0;
            border-radius:0.5rem;
            border:1px solid #ccc;
        }
        button{
            width:95%;
            padding: 0.5rem;
            margin:0.5rem 0;
            border:none;
            border-radius:0.5rem;
            cursor:pointer;
            font-weight:bold;
        }
        .owner-btn{
            background: color #0d9488;
        }
        .sitter-btn{
            background-color:#10b981;
            color:white;
        }
        .sitter-btn:hover{
            background-color:#059669;
        }
    </style>
    </head>
    <body>
        <div class="register-card">
            <h2>Pet Sitting Register</h2>
            <input type="text"id="name" placeholder="Full Name"><br>
            <input type="email" id="email" placeholder="Email"><br>
            <input type="password" id="password" placeholder="Password"><br>
            <button class="owner-btn" onclick="handleRegister('owner')">Register as Pet Owner</button>
            <button class="sitter-btn" onclick="handleRegister('sitter')">Register as Pet Sitter</button>

        </div>

        <script>
            function handleRegister(role){
                const name= document.getElementById('name').value;
                const email=document.getElementById('email)').value;
                const password=document.getElementById('password').value;

                if(!name||!email||!password){
                    alert('Please enter name,email, and password.');
                    return;
                }
                if(role==='owner'){
                    alert(`Registering Pet Owner:${name} (${email})`);
                    window.location.href='/owner-dashboard.html';
                }
                else{
                    alert(`Registering Pet SItter: ${name}(${email})`);
                    window.location.href='/sitter-dashboard.html';
                }
            }
        </script>
        <script>
            function handleRegister(role){
                  const name=document.getElementById('name').value;
                  const email=document.getElementById('email').value;
                  const password=document.getElementById('password').value;
                  
                  if(!name||!email||!password){
                    alert('Please enter name,email,and password.');
                    return;
                  }
                  fetch('/register',{
                   method:'POST',
                   headers:{'Content-Type':'application/json'},
                   body: JSON.stringify({name,email,password,role}) 
                  })
                  .then(res => res.json())
                  .then(data=> {
                    if(data.success){
                        alert('Account created successfully!');
                        if(role==='sitter') window.loation.href='/sitterdashboard';
                        else window.location.href='/ownerdashboard';
                    }else{
                        alert('Error:'+data.message);
                    }
                  })
                  .catch(err=> {
                    console.error(err);
                    alert('Something went wrong.');
                  })
            }
        </script>
    </body>
</html>